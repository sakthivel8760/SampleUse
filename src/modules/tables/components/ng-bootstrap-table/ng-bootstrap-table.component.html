<form>
  <div class="form-group form-inline">
    Full text search:
    <input
      class="form-control ml-2"
      type="text"
      name="searchTerm"
      [(ngModel)]="countryService.searchTerm"
    /><span class="ml-3" *ngIf="countryService.loading$ | async"
      >Loading...</span
    >
  </div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">S.No</th>
        <th scope="col" sbSortable="computerName" (sort)="onSort($event)">
          <span>Computer Name</span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'computerName'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
        <th scope="col" sbSortable="ipaddress" (sort)="onSort($event)">
          <span>IP Address</span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'ipaddress'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
        <th scope="col" sbSortable="relayname" (sort)="onSort($event)">
          <span>Relay Name</span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'relayname'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
        <th scope="col" sbSortable="computergroup" (sort)="onSort($event)">
          <span>Computer group</span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'computergroup'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
        <th scope="col" sbSortable="compliance" (sort)="onSort($event)">
          <span>Compliance %</span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'compliance'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
        <th scope="col" sbSortable="critical" (sort)="onSort($event)">
          <span>Critical</span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'critical'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
        <th scope="col" sbSortable="important" (sort)="onSort($event)">
          <span>Important</span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'important'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
        <th scope="col" sbSortable="moderate" (sort)="onSort($event)">
          <span>Moderate </span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'moderate'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
        <th scope="col" sbSortable="Others" (sort)="onSort($event)">
          <span>Others </span
          ><sb-sort-icon
            *ngIf="sortedColumn === 'Others'"
            [direction]="sortedDirection"
          ></sb-sort-icon>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let pathcomp of pathcomps$ | async">
        <th scope="row">{{ pathcomp._id }}</th>
        <td>
          <ngb-highlight
            [result]="country.computerName"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
        <td>
          <ngb-highlight
            [result]="country.ipaddress"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
        <td>
          <ngb-highlight
            [result]="country.relayname"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
        <td>
          <ngb-highlight
            [result]="country.computergroup"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
        <td>
          <ngb-highlight
            [result]="country.compliance"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
        <td>
          <ngb-highlight
            [result]="country.critical"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
        <td>
          <ngb-highlight
            [result]="country.important"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
        <td>
          <ngb-highlight
            [result]="country.moderate"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
        <td>
          <ngb-highlight
            [result]="country.Others"
            [term]="countryService.searchTerm"
          ></ngb-highlight>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="d-flex justify-content-between p-2">
    <ngb-pagination
      [collectionSize]="total$ | async"
      [(page)]="countryService.page"
      [pageSize]="countryService.pageSize"
    ></ngb-pagination
    ><select
      class="custom-select"
      style="width: auto;"
      name="pageSize"
      [(ngModel)]="countryService.pageSize"
      ><option [ngValue]="2">2 items per page</option
      ><option [ngValue]="4">4 items per page</option
      ><option [ngValue]="6">6 items per page</option></select
    >
  </div>
</form>
